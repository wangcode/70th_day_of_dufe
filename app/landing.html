{% extends "base.html" %}

{% block css %}
<link rel="stylesheet" href="/js/packages/vegas/vegas.min.css">
{% endblock %}

{% block content %}
<div class="landing">
    <div class="landing-header hide_in_pc">
        {% include "parts/header.html" %}
    </div>

    <a href="">
        <img class="landing-logo" src="/images/logo.png" alt="">
    </a>

    <div class="landing-title-wrap">
        <div class="landing-title">
            <div class="hide_in_mobile">
                <img src="/images/landing/title.png" alt="">
            </div>
            <a href="/home.html">
                <div class="landing-title-enter">
                    <div class="landing-title-enter-btn">点击进入</div>
                    <div class="landing-title-enter-circle hide_in_pc"></div>
                </div>
            </a>
        </div>
    </div>

    <div class="landing-swiper"></div>

    <div id="firework1" class="landing-fireworks">
        <!-- <div class="landing-fireworks-left"></div>
        <div class="landing-fireworks-right"></div> -->
    </div>
    <div id="firework2" class="landing-fireworks"></div>

</div>

{% endblock %}

{% block script %}
<script src="/js/packages/fireworks/fireworks.min.js"></script>
<script src="/js/packages/vegas/vegas.min.js"></script>
<script>
    var isMobile = screen.width <= 750;
    $(".landing-swiper").vegas({
        slides: [{
                src: isMobile ? "/images/landing/page1_mobile.jpg" : "/images/landing/page1.jpg"
            },
            {
                src: "/images/landing/page2.jpg"
            },
            {
                src: "/images/landing/page3.jpg"
            },
            {
                src: "/images/landing/page4.jpg"
            }
        ],
        timer: false,
        delay: 5000,
        shuffle: false,
        animation: ['kenburnsUp', 'kenburnsDown', 'kenburnsLeft', 'kenburnsRight'],
        walk: function (index) {
            if (index === 0) {
                $(".landing-title img").css("opacity", "0");
            } else {
                $(".landing-title img").css("opacity", "1");
            }
        }
    });

    // var fireworkConfig = {
    //     "hue": {
    //         "min": 20,
    //         "max": 350
    //     },
    //     "delay": {
    //         "min": 20,
    //         "max": 60
    //     },
    //     "rocketsPoint": {
    //         "min": 21,
    //         "max": 45
    //     },
    //     "opacity": 0.2,
    //     "acceleration": 1.5,
    //     "friction": 0.96,
    //     "gravity": 0.3,
    //     "particles": 130,
    //     "trace": 1,
    //     "traceSpeed": 1,
    //     "explosion": 7,
    //     "intensity": 35,
    //     "flickering": 28,
    //     "lineStyle": "round",
    //     "lineWidth": {
    //         "explosion": {
    //             "min": 3,
    //             "max": 6.5
    //         },
    //         "trace": {
    //             "min": 0,
    //             "max": 0.00000000001
    //         }
    //     },
    //     "autoresize": true,
    //     "brightness": {
    //         "min": 50,
    //         "max": 100,
    //         "decay": {
    //             "min": 0.012,
    //             "max": 0.024
    //         }
    //     },
    // }
    var fireworkConfig = {
        "hue": {
            "min": 50,
            "max": 350
        },
        "delay": {
            "min": 9,
            "max": 40
        },
        "rocketsPoint": {
            "min": 21,
            "max": 45
        },
        "opacity": 0.1,
        "acceleration": 1.1,
        "friction": 0.94,
        "gravity": 0.3,
        "particles": 130,
        "trace": 1,
        "traceSpeed": 100,
        "explosion": 7,
        "intensity": 17,
        "flickering": 28,
        "lineStyle": "round",
        "lineWidth": {
            "explosion": {
                "min": 2,
                "max": 5.5
            },
            "trace": {
                "min": 0.00000001,
                "max": 0.00000001
            }
        },
        "autoresize": true,
        "brightness": {
            "min": 50,
            "max": 100,
            "decay": {
                "min": 0.012,
                "max": 0.024
            }
        },
    }
    var leftfirework = new Fireworks(document.querySelector('#firework1'), {...fireworkConfig,
    "boundaries": { visible: false, x: 0, y: 130, width: screen.width/2, height: screen.height }})
    var rightfirework = new Fireworks(document.querySelector('#firework2'), {...fireworkConfig,
    "boundaries": { visible: false, x: screen.width/2, y: 50, width: screen.width*2, height: screen.height }})
    leftfirework.start()
    rightfirework.start()
</script>
{% endblock %}