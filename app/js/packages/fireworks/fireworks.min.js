!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(this,function(){return function(){"use strict";var t={511:function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Explosion=void 0;var s=i(909),o=function(){function t(e){var i=e.x,n=e.y,o=e.ctx,r=e.hue,a=e.gravity,h=e.friction,c=e.brightness,u=e.flickering,l=e.lineWidth,d=e.explosionLength;for(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._coordinates=[],this._alpha=1,this._x=i,this._y=n,this._ctx=o,this._gravity=a,this._friction=h,this._flickering=u,this._lineWidth=l,this._explosionLength=d;this._explosionLength--;)this._coordinates.push([i,n]);this._angle=(0,s.randomFloat)(0,2*Math.PI),this._speed=(0,s.randomInt)(1,10),this._hue=(0,s.randomInt)(r-20,r+20),this._brightness=(0,s.randomInt)(c.min,c.max),this._decay=(0,s.randomFloat)(c.decay.min,c.decay.max)}var e,i;return e=t,(i=[{key:"update",value:function(t){this._coordinates.pop(),this._coordinates.unshift([this._x,this._y]),this._speed*=this._friction,this._x+=Math.cos(this._angle)*this._speed,this._y+=Math.sin(this._angle)*this._speed+this._gravity,this._alpha-=this._decay,this._alpha<=this._decay&&t()}},{key:"draw",value:function(){var t=this._coordinates.length-1;this._ctx.beginPath(),this._ctx.lineWidth=this._lineWidth,this._ctx.fillStyle=(0,s.hsla)(this._hue,this._brightness,this._alpha),this._ctx.moveTo(this._coordinates[t][0],this._coordinates[t][1]),this._ctx.lineTo(this._x,this._y),this._ctx.strokeStyle=(0,s.hsla)(this._hue,this._flickering?(0,s.randomFloat)(0,this._brightness):this._brightness,this._alpha),this._ctx.stroke()}}])&&n(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.Explosion=o},909:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hsla=e.getDistance=e.randomInt=e.randomFloat=void 0,e.randomFloat=function(t,e){return Math.random()*(e-t)+t},e.randomInt=function(t,e){return Math.floor(t+Math.random()*(e+1-t))},e.getDistance=function(t,e,i,n){var s=Math.pow;return Math.sqrt(s(t-i,2)+s(e-n,2))},e.hsla=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"hsla(".concat(t,", 100%, ").concat(e,"%, ").concat(i,")")}},449:function(t,e,i){function n(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,h=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){h=!0,r=t},f:function(){try{a||null==i.return||i.return()}finally{if(h)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,o){function r(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(r,a)}h((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.Sound=void 0;var a=i(909),h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._buffer=[],this.onInit=!0,this.options=Object.assign({enabled:!1,files:["explosion0.mp3","explosion1.mp3","explosion2.mp3"],volume:{min:4,max:8}},e),this.init()}var e,i;return e=t,(i=[{key:"init",value:function(){this.onInit&&this.options.enabled&&(this.onInit=!1,this._audioContext=new(window.AudioContext||window.webkitAudioContext),this.load())}},{key:"load",value:function(){return r(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,i,s,o,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=n(this.options.files),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=13;break}return s=i.value,t.next=7,fetch(s);case 7:return t.next=9,t.sent.arrayBuffer();case 9:o=t.sent,this._audioContext.decodeAudioData(o).then(function(t){r._buffer.push(t)}).catch(function(t){throw t});case 11:t.next=3;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),e.e(t.t0);case 18:return t.prev=18,e.f(),t.finish(18);case 21:case"end":return t.stop()}},t,this,[[1,15,18,21]])}))}},{key:"play",value:function(){if(this.options.enabled&&this._buffer.length){var t=this._audioContext.createBufferSource(),e=this._buffer[(0,a.randomInt)(0,this._buffer.length-1)],i=this._audioContext.createGain();t.buffer=e,i.gain.value=(0,a.randomFloat)(this.options.volume.min/100,this.options.volume.max/100),i.connect(this._audioContext.destination),t.connect(i),t.start(0)}else this.init()}}])&&o(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.Sound=h},668:function(t,e,i){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=void 0;var s=i(909),o=function(){function t(e){var i=e.x,n=e.y,o=e.dx,r=e.dy,a=e.ctx,h=e.hue,c=e.speed,u=e.traceLength,l=e.acceleration;for(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._coordinates=[],this._currentDistance=0,this._x=i,this._y=n,this._sx=i,this._sy=n,this._dx=o,this._dy=r,this._ctx=a,this._hue=h,this._speed=c,this._traceLength=u,this._acceleration=l,this._totalDistance=(0,s.getDistance)(i,n,o,r);this._traceLength--;)this._coordinates.push([i,n]);this._angle=Math.atan2(r-n,o-i),this._brightness=(0,s.randomInt)(50,70)}var e,i;return e=t,(i=[{key:"update",value:function(t){this._coordinates.pop(),this._coordinates.unshift([this._x,this._y]),this._speed*=this._acceleration;var e=Math.cos(this._angle)*this._speed,i=Math.sin(this._angle)*this._speed;this._currentDistance=(0,s.getDistance)(this._sx,this._sy,this._x+e,this._y+i),this._currentDistance>=this._totalDistance?t(this._dx,this._dy,this._hue):(this._x+=e,this._y+=i)}},{key:"draw",value:function(){var t=this._coordinates.length-1;this._ctx.beginPath(),this._ctx.moveTo(this._coordinates[t][0],this._coordinates[t][1]),this._ctx.lineTo(this._x,this._y),this._ctx.strokeStyle=(0,s.hsla)(this._hue,this._brightness),this._ctx.stroke()}}])&&n(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.Trace=o}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}var n={};return function(){var t=n;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,s,o=[],r=!0,a=!1;try{for(i=i.call(t);!(r=(n=i.next()).done)&&(o.push(n.value),!e||o.length!==e);r=!0);}catch(t){a=!0,s=t}finally{try{r||null==i.return||i.return()}finally{if(a)throw s}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Fireworks=void 0;var a=i(668),h=i(449),c=i(511),u=i(909),l=function(){function t(e){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=n.autoresize,o=void 0===s||s,r=n.boundaries,a=n.brightness,c=n.delay,u=n.hue,l=n.mouse,d=n.sound,f=n.rocketsPoint,_=n.lineWidth,v=n.lineStyle,p=void 0===v?"round":v,y=n.flickering,m=void 0===y?50:y,x=n.trace,g=void 0===x?3:x,b=n.traceSpeed,w=void 0===b?10:b,k=n.intensity,j=void 0===k?30:k,O=n.explosion,S=void 0===O?5:O,M=n.gravity,E=void 0===M?1.5:M,I=n.opacity,P=void 0===I?.5:I,C=n.particles,T=void 0===C?50:C,L=n.friction,A=void 0===L?.95:L,W=n.acceleration,D=void 0===W?1.05:W;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._tick=0,this._timestamp=performance.now(),this._version="1.3.5",this._running=!1,this._m=!1,e instanceof HTMLCanvasElement?(this._container=e,this._canvas=e):(this._container=e,this._canvas=document.createElement("canvas"),this._container.appendChild(this._canvas)),this._ctx=this._canvas.getContext("2d"),this._sound=new h.Sound(d),this.setSize(),this.setBoundaries(Object.assign({visible:!1,x:50,y:50},r)),this.autoresize=o,this.trace=g,this.explosion=S,this.gravity=E,this.opacity=P,this.particles=T,this.friction=A,this.acceleration=D,this.flickering=m,this.intensity=j,this.traceSpeed=w,this.lineStyle=p,this.hue=Object.assign({min:0,max:360},u),this.rocketsPoint=Object.assign({min:50,max:50},f),this.lineWidth=Object.assign({explosion:{min:1,max:3},trace:{min:1,max:2}},_),this.mouse=Object.assign({click:!1,move:!1,max:1},l),this.delay=Object.assign({min:15,max:30},c),this.brightness=Object.assign({min:50,max:80,decay:{min:.015,max:.03}},a),this.autoresize&&window.addEventListener("resize",function(){return i.windowResize()}),this._canvas.addEventListener("mousedown",function(t){return i.mouseDown(t)}),this._canvas.addEventListener("mouseup",function(t){return i.mouseUp(t)}),this._canvas.addEventListener("mousemove",function(t){return i.mouseMove(t)})}var i,n;return i=t,(n=[{key:"isRunning",get:function(){return this._running}},{key:"version",get:function(){return this._version}},{key:"start",value:function(){this._running||(this._running=!0,this.clear(),this.render())}},{key:"stop",value:function(){this._running&&(this._running=!1,this.clear())}},{key:"unmount",value:function(){window.removeEventListener("resize",this.windowResize),this._canvas.addEventListener("mousedown",this.mouseDown),this._canvas.addEventListener("mouseup",this.mouseUp),this._canvas.addEventListener("mousemove",this.mouseMove)}},{key:"pause",value:function(){this._running=!this._running,this._running&&this.render()}},{key:"clear",value:function(){this._ctx&&(this._traces=[],this._explosions=[],this._ctx.clearRect(0,0,this._width,this._height))}},{key:"setOptions",value:function(t){for(var i=0,n=Object.entries(t);i<n.length;i++){var o=s(n[i],2),r=o[0],a=o[1],h=Object.prototype.hasOwnProperty.call(this,r);if("function"==typeof this[r])throw new Error("You cannot change the methods of the class!");h&&("object"===e(this[r])?Object.assign(this[r],a):this[r]=a),"sound"===r&&Object.assign(this._sound.options,a)}}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,i=void 0===e?this._container instanceof HTMLCanvasElement?this._canvas.width:this._container.clientWidth:e,n=t.height,s=void 0===n?this._container instanceof HTMLCanvasElement?this._canvas.height:this._container.clientHeight:n;this._width=i,this._height=s,this._canvas.width=i,this._canvas.height=s,this.setBoundaries({width:i,height:s})}},{key:"setBoundaries",value:function(t){this.boundaries=Object.assign(Object.assign({},this.boundaries),t)}},{key:"useMouse",value:function(t,e){(this.mouse.click||this.mouse.move)&&(this._mx=t.pageX-this._canvas.offsetLeft,this._my=t.pageY-this._canvas.offsetTop,this._m=e)}},{key:"windowResize",value:function(){this.setSize()}},{key:"mouseDown",value:function(t){this.useMouse(t,this.mouse.click)}},{key:"mouseUp",value:function(t){this.useMouse(t,!1)}},{key:"mouseMove",value:function(t){this.useMouse(t,this._m)}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._timestamp;if(this._ctx&&this._running){requestAnimationFrame(function(e){return t.render(e)}),this._ctx.globalCompositeOperation="destination-out",this._ctx.fillStyle="rgba(0, 0, 0, ".concat(this.opacity,")"),this._ctx.fillRect(0,0,this._width,this._height),this._ctx.globalCompositeOperation="lighter",this._ctx.lineCap=this.lineStyle,this._ctx.lineJoin="round",this.drawBoundaries(),this.initTrace(),this.drawTrace(),this.drawExplosion();var i=e-this._timestamp;this._timestamp=e,this._tick+=i*(this.intensity*Math.PI)/1e3}}},{key:"drawBoundaries",value:function(){this.boundaries.visible&&(this._ctx.beginPath(),this._ctx.lineWidth=1,this._ctx.strokeStyle="red",this._ctx.rect(this.boundaries.x,this.boundaries.y,this.boundaries.width-2*this.boundaries.x,.5*this.boundaries.height),this._ctx.stroke())}},{key:"initTrace",value:function(){this._ds=(0,u.randomInt)(this.delay.min,this.delay.max),(2*this._ds<this._tick||this._m&&this.mouse.max>this._traces.length)&&(this._traces.push(new a.Trace({x:this._width*(0,u.randomInt)(this.rocketsPoint.min,this.rocketsPoint.max)/100,y:this._height,dx:this._mx&&this.mouse.move||this._m?this._mx:(0,u.randomInt)(this.boundaries.x,this.boundaries.width-2*this.boundaries.x),dy:this._my&&this.mouse.move||this._m?this._my:(0,u.randomInt)(this.boundaries.y,.5*this.boundaries.height),ctx:this._ctx,hue:(0,u.randomInt)(this.hue.min,this.hue.max),speed:this.traceSpeed,acceleration:this.acceleration,traceLength:this.trace})),this._tick=0)}},{key:"drawTrace",value:function(){var t=this,e=this._traces.length;for(this._ctx.lineWidth=(0,u.randomFloat)(this.lineWidth.trace.min,this.lineWidth.trace.max);e--;)this._traces[e].draw(),this._traces[e].update(function(i,n,s){t.initExplosion(i,n,s),t._sound.play(),t._traces.splice(e,1)})}},{key:"initExplosion",value:function(t,e,i){for(var n=this.particles;n--;)this._explosions.push(new c.Explosion({x:t,y:e,ctx:this._ctx,hue:i,friction:this.friction,gravity:this.gravity,flickering:(0,u.randomInt)(0,100)<=this.flickering,lineWidth:(0,u.randomFloat)(this.lineWidth.explosion.min,this.lineWidth.explosion.max),explosionLength:this.explosion,brightness:this.brightness}))}},{key:"drawExplosion",value:function(){for(var t=this,e=this._explosions.length;e--;)this._explosions[e].draw(),this._explosions[e].update(function(){t._explosions.splice(e,1)})}}])&&r(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),t}();t.Fireworks=l}(),n}()});